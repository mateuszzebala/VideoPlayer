{"ast":null,"code":"var _jsxFileName = \"/home/mateusz/Code/React/VideoPlayer/src/components/contextmenu/contextmenu.js\",\n  _s = $RefreshSig$();\nimport './contextmenu.css';\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ContextMenu(props) {\n  _s();\n  const [show, setShow] = useState(false);\n  const [top, setTop] = useState(0);\n  const [left, setLeft] = useState(0);\n  useEffect(() => {\n    document.addEventListener(\"click\", () => {\n      setShow(false);\n    });\n    document.addEventListener(\"contextmenu\", e => {\n      let parent = e.target.parentElement;\n      let contains = false;\n      while (parent) {\n        if (parent.classList.contains('contextmenu-component')) {\n          contains = true;\n        }\n        parent = parent.parentElement;\n      }\n      if (!contains) setShow(false);\n    });\n  }, []);\n  function handleContextMenu(e) {\n    e.preventDefault();\n    setShow(true);\n    setTop(e.pageY);\n    setLeft(e.pageX);\n  }\n  function handleOptionClick(e) {\n    setShow(false);\n    const fnc = props.options[e.target.getAttribute('index')][1];\n    fnc(e);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"contextmenu-component\",\n    onContextMenu: handleContextMenu,\n    children: [props.children, show ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contextmenu\",\n        style: {\n          \"--top\": top + \"px\",\n          \"--left\": left + \"px\"\n        },\n        children: Object.keys(props.options).map(key => {\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            index: key,\n            onClick: handleOptionClick,\n            children: [props.options[key][2] ? props.options[key][2] : \"\", \" \", props.options[key][0]]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 32\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)\n    }, void 0, false) : \"\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n_s(ContextMenu, \"CMCvwQWNt+roAO4kEp3pLKZgOSw=\");\n_c = ContextMenu;\nexport default ContextMenu;\nvar _c;\n$RefreshReg$(_c, \"ContextMenu\");","map":{"version":3,"names":["useEffect","useState","ContextMenu","props","show","setShow","top","setTop","left","setLeft","document","addEventListener","e","parent","target","parentElement","contains","classList","handleContextMenu","preventDefault","pageY","pageX","handleOptionClick","fnc","options","getAttribute","children","Object","keys","map","key"],"sources":["/home/mateusz/Code/React/VideoPlayer/src/components/contextmenu/contextmenu.js"],"sourcesContent":["import './contextmenu.css'\r\nimport {useEffect, useState} from \"react\";\r\n\r\n\r\nfunction ContextMenu(props){\r\n    const [show, setShow] = useState(false)\r\n    const [top, setTop] = useState(0)\r\n    const [left, setLeft] = useState(0)\r\n\r\n\r\n\r\n    useEffect(()=>{\r\n        document.addEventListener(\"click\", ()=>{setShow(false)})\r\n        document.addEventListener(\"contextmenu\", (e)=>{\r\n            let parent = e.target.parentElement\r\n            let contains = false\r\n            while(parent){\r\n                if(parent.classList.contains('contextmenu-component')){\r\n                    contains = true\r\n                }\r\n                parent = parent.parentElement\r\n            }\r\n            if(!contains) setShow(false)\r\n\r\n        })\r\n    }, [])\r\n\r\n    function handleContextMenu(e){\r\n        e.preventDefault()\r\n        setShow(true)\r\n        setTop(e.pageY)\r\n        setLeft(e.pageX)\r\n    }\r\n\r\n    function handleOptionClick(e){\r\n        setShow(false)\r\n        const fnc = props.options[e.target.getAttribute('index')][1]\r\n        fnc(e)\r\n    }\r\n\r\n    return (\r\n        <div className={\"contextmenu-component\"} onContextMenu={handleContextMenu}>\r\n            {props.children}\r\n            {show ? <>\r\n                <div className=\"contextmenu\" style={{\"--top\":top + \"px\", \"--left\":left + \"px\"}}>\r\n                    {Object.keys(props.options).map(key=>{\r\n                        return <button key={key} index={key} onClick={handleOptionClick}>{props.options[key][2] ? props.options[key][2] : \"\"} {props.options[key][0]}</button>\r\n                    })}\r\n                </div>\r\n            </> : \"\"}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ContextMenu"],"mappings":";;AAAA,OAAO,mBAAmB;AAC1B,SAAQA,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAAC;AAAA;AAG1C,SAASC,WAAW,CAACC,KAAK,EAAC;EAAA;EACvB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGJ,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAM,CAACK,GAAG,EAAEC,MAAM,CAAC,GAAGN,QAAQ,CAAC,CAAC,CAAC;EACjC,MAAM,CAACO,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC;EAInCD,SAAS,CAAC,MAAI;IACVU,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAE,MAAI;MAACN,OAAO,CAAC,KAAK,CAAC;IAAA,CAAC,CAAC;IACxDK,QAAQ,CAACC,gBAAgB,CAAC,aAAa,EAAGC,CAAC,IAAG;MAC1C,IAAIC,MAAM,GAAGD,CAAC,CAACE,MAAM,CAACC,aAAa;MACnC,IAAIC,QAAQ,GAAG,KAAK;MACpB,OAAMH,MAAM,EAAC;QACT,IAAGA,MAAM,CAACI,SAAS,CAACD,QAAQ,CAAC,uBAAuB,CAAC,EAAC;UAClDA,QAAQ,GAAG,IAAI;QACnB;QACAH,MAAM,GAAGA,MAAM,CAACE,aAAa;MACjC;MACA,IAAG,CAACC,QAAQ,EAAEX,OAAO,CAAC,KAAK,CAAC;IAEhC,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,SAASa,iBAAiB,CAACN,CAAC,EAAC;IACzBA,CAAC,CAACO,cAAc,EAAE;IAClBd,OAAO,CAAC,IAAI,CAAC;IACbE,MAAM,CAACK,CAAC,CAACQ,KAAK,CAAC;IACfX,OAAO,CAACG,CAAC,CAACS,KAAK,CAAC;EACpB;EAEA,SAASC,iBAAiB,CAACV,CAAC,EAAC;IACzBP,OAAO,CAAC,KAAK,CAAC;IACd,MAAMkB,GAAG,GAAGpB,KAAK,CAACqB,OAAO,CAACZ,CAAC,CAACE,MAAM,CAACW,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5DF,GAAG,CAACX,CAAC,CAAC;EACV;EAEA,oBACI;IAAK,SAAS,EAAE,uBAAwB;IAAC,aAAa,EAAEM,iBAAkB;IAAA,WACrEf,KAAK,CAACuB,QAAQ,EACdtB,IAAI,gBAAG;MAAA,uBACJ;QAAK,SAAS,EAAC,aAAa;QAAC,KAAK,EAAE;UAAC,OAAO,EAACE,GAAG,GAAG,IAAI;UAAE,QAAQ,EAACE,IAAI,GAAG;QAAI,CAAE;QAAA,UAC1EmB,MAAM,CAACC,IAAI,CAACzB,KAAK,CAACqB,OAAO,CAAC,CAACK,GAAG,CAACC,GAAG,IAAE;UACjC,oBAAO;YAAkB,KAAK,EAAEA,GAAI;YAAC,OAAO,EAAER,iBAAkB;YAAA,WAAEnB,KAAK,CAACqB,OAAO,CAACM,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG3B,KAAK,CAACqB,OAAO,CAACM,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,OAAG3B,KAAK,CAACqB,OAAO,CAACM,GAAG,CAAC,CAAC,CAAC,CAAC;UAAA,GAAxHA,GAAG;YAAA;YAAA;YAAA;UAAA,QAA+H;QAC1J,CAAC;MAAC;QAAA;QAAA;QAAA;MAAA;IACA,iBACP,GAAG,EAAE;EAAA;IAAA;IAAA;IAAA;EAAA,QACN;AAEd;AAAC,GAhDQ5B,WAAW;AAAA,KAAXA,WAAW;AAkDpB,eAAeA,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}